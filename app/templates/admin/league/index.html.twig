{% extends 'admin/base.html.twig' %}
{% block title %}Admin · Leagues{% endblock %}
{% block admin_body %}
<h2>Admin · Leagues</h2>

<form method="get" class="card" style="display:flex;gap:10px;align-items:end">
  <div>
    <label>Country</label><br>
    <select name="country">
      <option value="">All</option>
      {% for c in countries %}
        <option value="{{ c.code }}" {{ cc == c.code ? 'selected' }}>{{ c.name }}</option>
      {% endfor %}
    </select>
  </div>
  <button style="padding:6px 10px;border-radius:8px;border:1px solid #374151;background:#1f2937;color:#e6edf3">Filter</button>
</form>

<div class="card">
  <table style="width:100%;border-collapse:collapse">
    <thead>
      <tr>
        <th style="text-align:left;padding:6px">Country</th>
        <th style="text-align:left;padding:6px">League</th>
        <th>Season</th>
        <th>Show</th>
        <th>Sort</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for l in leagues %}
      <tr style="border-top:1px solid #1f2937">
        <td style="padding:6px">{{ l.country.code }}</td>
        <td style="padding:6px">{{ l.name }}</td>
        <td style="text-align:center">{{ l.seasonCurrent }}</td>
        <td style="text-align:center">{{ l.showOnHome ? '✓' : '—' }}</td>
        <td style="text-align:center">{{ l.homeSort ?? '—' }}</td>
        <td style="text-align:right;padding:6px">
          <a href="{{ path('admin_league_edit', {id: l.id}) }}">Edit</a>
        </td>
      </tr>
      {% else %}
      <tr><td colspan="6" style="padding:8px">No leagues.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
